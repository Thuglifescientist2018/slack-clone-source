{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/react-challenge-slack-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:/react-challenge-slack-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3;import'./App.css';import{useEffect,useState}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import Chat from'./components/Chat';import Login from'./components/Login';import styled from'styled-components';import Header from'./components/Header';import Sidebar from'./components/Sidebar';import db from'./firebase';import{auth,provider}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem('user'))),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var getChannels=function getChannels(){db.collection('rooms').onSnapshot(function(snapshot){setRooms(snapshot.docs.map(function(doc){return{id:doc.id,name:doc.data().name};}));});};var signOut=function signOut(){auth.signOut().then(function(){localStorage.removeItem('user');setUser(null);});};useEffect(function(){getChannels();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:!user?/*#__PURE__*/_jsx(Login,{setUser:setUser}):/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{signOut:signOut,user:user}),/*#__PURE__*/_jsxs(Main,{children:[/*#__PURE__*/_jsx(Sidebar,{rooms:rooms}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/room/:channelId\",children:/*#__PURE__*/_jsx(Chat,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(CreateOrSelect,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Create or Select Channel\"})})})})]})]})]})})});}export default App;var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  display: grid;\\n  grid-template-rows: 38px minmax(0, 1fr);\\n\"])));var Main=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 260px auto;\\n  \"])));var CreateOrSelect=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\ndisplay: flex;\\njustify-content: center;\\nalign-items:center;\\nbackground: url('https://source.unsplash.com/u27Rrbs9Dwc/1920x1080') no-repeat center center/cover;\\ncolor: white;\\n.container  {\\n  background: rgba(0, 0, 0, 0.8) no-repeat center center/cover;\\n  height: 40vh;\\n  width: 40vw;\\n  display: flex;\\n  justify-content: center;\\n  align-items:center;\\n  font-size: 9rem;\\n  a\\n}\\n\"])));","map":{"version":3,"sources":["D:/react-challenge-slack-clone/src/App.js"],"names":["useEffect","useState","BrowserRouter","Router","Route","Switch","Chat","Login","styled","Header","Sidebar","db","auth","provider","App","rooms","setRooms","JSON","parse","localStorage","getItem","user","setUser","getChannels","collection","onSnapshot","snapshot","docs","map","doc","id","name","data","signOut","then","removeItem","Container","div","Main","CreateOrSelect"],"mappings":"gXAAA,MAAO,WAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,YAA/B,C,wFAOA,QAASC,CAAAA,GAAT,EAAe,eAGab,QAAQ,CAAC,EAAD,CAHrB,wCAGNc,KAHM,eAGCC,QAHD,8BAIaf,QAAQ,CAACgB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,CAJrB,yCAILC,IAJK,eAICC,OAJD,eAMb,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBZ,EAAE,CAACa,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAACC,QAAD,CAAc,CAC9CV,QAAQ,CAACU,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,CAAS,CAClC,MAAO,CAAEC,EAAE,CAAED,GAAG,CAACC,EAAV,CAAcC,IAAI,CAAEF,GAAG,CAACG,IAAJ,GAAWD,IAA/B,CAAP,CACD,CAFQ,CAAD,CAAR,CAGD,CAJD,EAMD,CAPD,CASA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBrB,IAAI,CAACqB,OAAL,GAAeC,IAAf,CAAoB,UAAI,CACtBf,YAAY,CAACgB,UAAb,CAAwB,MAAxB,EACAb,OAAO,CAAC,IAAD,CAAP,CACD,CAHD,EAID,CALD,CAOAtB,SAAS,CAAC,UAAK,CACbuB,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CAKA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,WAEI,CAACF,IAAD,cACA,KAAC,KAAD,EAAO,OAAO,CAAEC,OAAhB,EADA,cAGA,MAAC,SAAD,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAEW,OAAjB,CAA0B,IAAI,CAAEZ,IAAhC,EADF,cAEE,MAAC,IAAD,yBACE,KAAC,OAAD,EAAU,KAAK,CAAEN,KAAjB,EADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,uBACE,KAAC,IAAD,EAAM,IAAI,CAAEM,IAAZ,EADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,uBACE,KAAC,cAAD,wBACQ,YAAK,SAAS,CAAC,WAAf,uBACE,gDADF,EADR,EADF,EAJF,GAFF,GAFF,GALJ,EADF,EADF,CA6BD,CAED,cAAeP,CAAAA,GAAf,CAEA,GAAMsB,CAAAA,SAAS,CAAG5B,MAAM,CAAC6B,GAAV,mKAAf,CAOA,GAAMC,CAAAA,IAAI,CAAG9B,MAAM,CAAC6B,GAAV,+HAAV,CAKA,GAAME,CAAAA,cAAc,CAAG/B,MAAM,CAAC6B,GAAV,0cAApB","sourcesContent":["import './App.css';\r\nimport { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport Chat from './components/Chat'\r\nimport Login from './components/Login'\r\nimport styled from 'styled-components'\r\nimport Header from './components/Header'\r\nimport Sidebar from './components/Sidebar'\r\nimport db from './firebase'\r\nimport { auth, provider } from \"./firebase\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n  const [rooms, setRooms] = useState([]) \r\n  const [ user, setUser ] = useState(JSON.parse(localStorage.getItem('user'))); \r\n\r\n  const getChannels = () => {\r\n    db.collection('rooms').onSnapshot((snapshot) => {\r\n      setRooms(snapshot.docs.map((doc) => {\r\n        return { id: doc.id, name: doc.data().name }\r\n      }))\r\n    })\r\n\r\n  }\r\n\r\n  const signOut = () => {\r\n    auth.signOut().then(()=>{\r\n      localStorage.removeItem('user');\r\n      setUser(null);\r\n    })\r\n  }\r\n\r\n  useEffect(() =>{\r\n    getChannels();\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        {\r\n          !user ?\r\n          <Login setUser={setUser}/>\r\n          :\r\n          <Container>\r\n            <Header signOut={signOut} user={user} />\r\n            <Main>\r\n              <Sidebar  rooms={rooms}  /> \r\n              <Switch>\r\n                <Route path=\"/room/:channelId\">\r\n                  <Chat user={user} />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                  <CreateOrSelect>\r\n                          <div className=\"container\">\r\n                            <h2>Create or Select Channel</h2>\r\n                          </div>\r\n                  </CreateOrSelect>\r\n                </Route>\r\n              </Switch>\r\n            </Main>\r\n          </Container>\r\n        }\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: grid;\r\n  grid-template-rows: 38px minmax(0, 1fr);\r\n`\r\n\r\nconst Main = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 260px auto;\r\n  `\r\n\r\nconst CreateOrSelect = styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items:center;\r\nbackground: url('https://source.unsplash.com/u27Rrbs9Dwc/1920x1080') no-repeat center center/cover;\r\ncolor: white;\r\n.container  {\r\n  background: rgba(0, 0, 0, 0.8) no-repeat center center/cover;\r\n  height: 40vh;\r\n  width: 40vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items:center;\r\n  font-size: 9rem;\r\n  a\r\n}\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}